(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[8],{EWXB:function(e,a,t){e.exports={dataSourceTitle:"antd-pro-pages-check-record-check-record-list-dataSourceTitle",dataSourceInput:"antd-pro-pages-check-record-check-record-list-dataSourceInput",dataSourceBtns:"antd-pro-pages-check-record-check-record-list-dataSourceBtns",dataSourceTableList:"antd-pro-pages-check-record-check-record-list-dataSourceTableList",tableListForm:"antd-pro-pages-check-record-check-record-list-tableListForm"}},b0sb:function(e,a,t){"use strict";t.r(a);t("tD99");var r,n,l,c,d=t("u0co"),s=(t("GOpK"),t("D012")),i=(t("7lm+"),t("Oy9c")),o=(t("56BP"),t("9B4d")),m=(t("flUi"),t("BFxG")),u=(t("xju3"),t("993v")),f=(t("/9S5"),t("W5sj")),h=(t("uQbE"),t("Q/TG")),p=t("zAuD"),g=t.n(p),k=t("mK77"),b=t.n(k),A=t("43Yg"),I=t.n(A),y=t("/tCh"),E=t.n(y),G=t("scpF"),S=t.n(G),x=t("O/V9"),N=t.n(x),v=t("Tfcp"),D=t.n(v),C=t("8aBX"),T=t.n(C),U=(t("QwEs"),t("FCkh")),R=(t("QnEw"),t("52uI")),L=(t("inXZ"),t("db/f")),P=(t("oVBX"),t("Mbjn")),F=(t("fl6I"),t("6Jb1")),M=(t("BUEc"),t("fzbF")),w=t("2w0b"),B=t.n(w),O=t("LneV"),j=t("lvdA"),Y=t("qj9E"),K=t("rA3V"),V=t.n(K),z=(t("C9k2"),t("lNND")),X=t("rC0w"),Q=t("EWXB"),W=t.n(Q),J=t("zHco"),_=M["a"].TreeNode,q=M["a"].DirectoryTree,H=(F["a"].RangePicker,P["a"].Item,L["a"].TextArea,R["a"].Option),Z=(U["a"].Panel,r=Object(O["connect"])(function(e){var a=e.checkRecord,t=e.loading;return{checkRecord:a,fetchCheckRecordListStatus:t.effects["checkRecord/fetchCheckRecordListAction"]}}),n=P["a"].create(),r(l=n((c=function(e){function a(){var e,t;I()(this,a);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return t=S()(this,(e=N()(a)).call.apply(e,[this].concat(n))),t.state={currentPage:z["a"].defaultPage,selectRows:[],selectedKey:"GA",selectedArea:"\u70df\u53f0\u5e02",baseInfoSelect:[],bodyConditionSelect:[],treeData:[{children:[{id:"GA001",key:"GA001",name:"\u829d\u7f58\u533a",pId:"GA",title:"\u829d\u7f58\u533a"},{id:"GA002",key:"GA002",name:"\u798f\u5c71\u533a",pId:"GA",title:"\u798f\u5c71\u533a"},{id:"GA003",key:"GA003",name:"\u83b1\u5c71\u533a",pId:"GA",title:"\u83b1\u5c71\u533a"},{id:"GA004",key:"GA004",name:"\u725f\u5e73\u533a",pId:"GA",title:"\u725f\u5e73\u533a"},{id:"GA005",key:"GA005",name:"\u6d77\u9633\u5e02",pId:"GA",title:"\u6d77\u9633\u5e02"},{id:"GA006",key:"GA006",name:"\u83b1\u9633\u5e02",pId:"GA",title:"\u83b1\u9633\u5e02"},{id:"GA007",key:"GA007",name:"\u6816\u971e\u5e02",pId:"GA",title:"\u6816\u971e\u5e02"},{id:"GA008",key:"GA008",name:"\u84ec\u83b1\u5e02",pId:"GA",title:"\u84ec\u83b1\u5e02"},{id:"GA009",key:"GA009",name:"\u957f\u5c9b\u53bf",pId:"GA",title:"\u957f\u5c9b\u53bf"},{id:"GA010",key:"GA010",name:"\u9f99\u53e3\u5e02",pId:"GA",title:"\u9f99\u53e3\u5e02"},{id:"GA011",key:"GA011",name:"\u62db\u8fdc\u5e02",pId:"GA",title:"\u62db\u8fdc\u5e02"},{id:"GA012",key:"GA012",name:"\u83b1\u5dde\u5e02",pId:"GA",title:"\u83b1\u5dde\u5e02"},{id:"GA013",key:"GA013",name:"\u5f00\u53d1\u533a",pId:"GA",title:"\u5f00\u53d1\u533a"},{id:"GA014",key:"GA014",name:"\u9ad8\u65b0\u533a",pId:"GA",title:"\u9ad8\u65b0\u533a"},{id:"GA015",key:"GA015",name:"\u4fdd\u7a0e\u6e2f\u533a",pId:"GA",title:"\u4fdd\u7a0e\u6e2f\u533a"},{id:"GA016",key:"GA016",name:"\u6606\u5d5b\u5c71\u4fdd\u62a4\u533a",pId:"GA",title:"\u6606\u5d5b\u5c71\u4fdd\u62a4\u533a"}],id:"GA",key:"GA",name:"\u70df\u53f0\u5e02",pId:"0",title:"\u70df\u53f0\u5e02"}],total:0,members:[],fakeData:{total:11,pages:null,members:[{id:2456,area:"\u83b1\u9633\u5e02",name:"\u67f3\u7231\u73b2",address:"\u53e4\u67f3\u8857\u9053\u67f3\u6c9f\u6751",idCard:"370682198711291121",phoneNum:"13361324284",age:34,gender:"\u5973",nativePlace:"\u5c71\u4e1c\u83b1\u9633",baseInfo:"\u5916\u5730\u6765\u70df",createTime:"2020-02-10 17:34",fillUserId:1049,fillUserName:"\u6881\u5e05\u5e05"},{id:2455,area:"\u83b1\u9633\u5e02",name:"\u67f3\u7231\u73b2",address:"\u53e4\u67f3\u8857\u9053\u67f3\u6c9f\u6751",idCard:"370682198711291121",phoneNum:"13361324284",age:34,gender:"\u5973",nativePlace:"\u5c71\u4e1c\u83b1\u9633",baseInfo:"\u5916\u5730\u6765\u70df",createTime:"2020-02-10 17:34",fillUserId:1049,fillUserName:"\u6881\u5e05\u5e05"},{id:2454,area:"\u83b1\u9633\u5e02",name:"\u9648\u56fd\u5b8f",address:"\u5c71\u4e1c\u7701\u83b1\u9633\u5e02\u57ce\u53a2\u8857\u9053\u529e\u4e8b\u5904\u76db\u4e16\u5e7f\u573a",idCard:"532401197507052017",phoneNum:"15106588986",age:45,gender:"\u7537",nativePlace:"\u4e91\u5357\u7701\u7389\u6eaa\u5e02",baseInfo:"\u6b63\u5e38",createTime:"2020-02-10 17:34",fillUserId:366,fillUserName:"\u738b\u9a8f"},{id:2453,area:"\u83b1\u9633\u5e02",name:"\u8463\u5e38\u4e91",address:"\u83b1\u9633\u5e02\u9f99\u65fa\u5e84\u8857\u9053\u7530\u683c\u5e84\u6751",idCard:"370682198808153526",phoneNum:"13553129100",age:32,gender:"\u7537",nativePlace:"",baseInfo:"\u5916\u5730\u6765\u70df",createTime:"2020-02-10 17:34",fillUserId:1094,fillUserName:"\u5d14\u96ea\u6885"},{id:2452,area:"\u83b1\u5dde\u5e02",name:"\u5468\u8273\u78ca",address:"\u83b1\u5dde\u5e02\u524d\u5317\u6d41\u6751",idCard:"370625197607210027",phoneNum:"13953588225",age:44,gender:"\u5973",nativePlace:"",baseInfo:"\u5df2\u88ab\u5c45\u5bb6\u9694\u79bb",createTime:"2020-02-10 17:34",fillUserId:1091,fillUserName:"\u5b8b\u7433"},{id:2451,area:"\u6d77\u9633\u5e02",name:"\u8f9b\u5fb7\u6cfd",address:"\u5927\u8f9b\u5bb6",idCard:"370629195308050672",phoneNum:"3682200",age:null,gender:"\u7537",nativePlace:"",baseInfo:"\u6b63\u5e38",createTime:"2020-02-10 17:34",fillUserId:848,fillUserName:"\u8f9b\u6d69"},{id:2450,area:"\u9f99\u53e3\u5e02",name:"\u674e\u817e",address:"\u9f99\u53e3\u5e02\u9488\u7ec7\u5382\u5c0f\u533a",idCard:"370681199810062218",phoneNum:"17852357218",age:23,gender:"\u7537",nativePlace:"\u5c71\u4e1c\u7701\u70df\u53f0\u5e02\u9f99\u53e3\u5e02",baseInfo:"\u6b63\u5e38",createTime:"2020-02-10 17:33",fillUserId:1093,fillUserName:"\u674e\u817e"},{id:2449,area:"\u83b1\u5dde\u5e02",name:"\u77f3\u6f47\u4e39",address:"\u83b1\u5dde\u5e02\u6c38\u5b89\u8857\u9053\u82b1\u56ed\u5317\u6d41082\u53f7",idCard:"370683198905242244",phoneNum:"15376590967",age:31,gender:"\u5973",nativePlace:"\u83b1\u5dde\u5e02\u6c38\u5b89\u8857\u9053\u82b1\u56ed\u5317\u6d41082\u53f7",baseInfo:"\u6b63\u5e38",createTime:"2020-02-10 17:33",fillUserId:405,fillUserName:"\u5f20\u83b2"},{id:2448,area:"\u6816\u971e\u5e02",name:"\u8def\u4e9a\u6960",address:"\u70df\u53f0\u5e02\u829d\u7f58\u533a\u4fe1\u8fbe\u5c0f\u533a",idCard:"370686199211138227",phoneNum:"15166862381",age:28,gender:"\u5973",nativePlace:"\u5c71\u4e1c\u7701\u6816\u971e\u5e02\u677e\u5c71\u8857\u9053\u5317\u8def\u5bb6\u6c9f\u6751",baseInfo:"\u6b63\u5e38",createTime:"2020-02-10 17:33",fillUserId:1096,fillUserName:"\u8def\u4e9a\u6960"},{id:2447,area:"\u83b1\u5dde\u5e02",name:"\u5b59\u4fee",address:"\u83b1\u5dde\u5e02\u5b89\u90a6\u540d\u4eba\u5bb6\u56ed1\u53f7\u697c3\u5355\u51431301\u5ba4",idCard:"371323198905078411",phoneNum:"18364458532",age:31,gender:"\u7537",nativePlace:"\u4e34\u6c82\u6c82\u6c34",baseInfo:"\u5916\u51fa\u8fd4\u70df",createTime:"2020-02-10 17:33",fillUserId:406,fillUserName:"\u6f58\u7fbd\u654f"}],activities:null,touchs:null,currnets:null},tableData:[{key:1,address:"\u53bf\u5e02\u533a",name:"\u59d3\u540d",age:18,sex:"\u6027\u522b",createDate:"\u521b\u5efa\u65f6\u95f4",pId:"123456787",status:"\u57fa\u672c\u72b6\u51b5"}]},t.fetchDataList=function(){var e=t.props,a=e.dispatch,r=e.form,n=(e.checkRecord,t.state),l=n.currentPage,c=(n.selectedKey,n.treeData),d=n.selectedArea,s=D()(t);r.validateFieldsAndScroll(function(e,t){if(!e){c.map(function(e){t.resourceType===e.name&&e.id});var r=Y["a"].auth.getLoginInfo(),n={current:l,size:z["a"].defaultPageSize,startTime:Y["a"].lodash.isUndefined(t.startDate)?"":Y["a"].helper.dateFormat(t.startDate,"YYYY-MM-DD"),endTime:Y["a"].lodash.isUndefined(t.endDate)?"":Y["a"].helper.dateFormat(t.endDate,"YYYY-MM-DD"),area:Y["a"].auth.isAdmin()?"\u70df\u53f0\u5e02"===d?"":d:r.data.area,name:Y["a"].lodash.isUndefined(t.person)?"":t.person,gender:Y["a"].lodash.isUndefined(t.sex)?"":"all"===t.sex?"":t.sex,baseInfo:Y["a"].lodash.isUndefined(t.base)?"":"\u5168\u90e8"===t.base?"":t.base,bodyCondition:Y["a"].lodash.isUndefined(t.status)?"":"\u5168\u90e8"===t.status?"":t.status,fillUserName:Y["a"].lodash.isUndefined(t.head)?"":t.head,fillUserId:0===r.data.static_auth?r.data.id:""};new Promise(function(e,t){a({type:"checkRecord/fetchCheckRecordListAction",params:n,resolve:e,reject:t})}).then(function(e){if(0===e.code){var a=e.data,t=a.total,r=a.members,n=r.map(function(e,a){return b()({},e,{key:10*(l-1)+a+1,index:10*(l-1)+a+1})});s.setState({total:t,members:n})}else Y["a"].prompt.error(e.msg)})}})},t.resetDataSource=function(){t.props.form.resetFields(),t.fetchDataList()},t.onSelect=function(e,a){var r=a.node.props,n=D()(t);t.setState({selectedKey:e[0],selectedArea:r.name},function(){n.fetchDataList()})},t.renderTreeNodes=function(e){return e.map(function(e){return e.children?B.a.createElement(_,g()({},e,{dataRef:e,title:e.name,key:e.id}),t.renderTreeNodes(e.children)):B.a.createElement(_,g()({},e,{dataRef:e,title:e.name,key:e.id,isLeaf:!0}))})},t.renderSelectTreeNodes=function(e){return e.map(function(e){return e.children?B.a.createElement(h["a"].TreeNode,g()({},e,{dataRef:e,title:e.name,value:e.name,key:e.id}),t.renderSelectTreeNodes(e.children)):B.a.createElement(h["a"].TreeNode,g()({},e,{dataRef:e,title:e.name,value:e.name,key:e.id,isLeaf:!0}))})},t.searchDataSource=function(e){var a=t.props;a.dispatch,a.form;e.preventDefault(),t.setState({currentPage:z["a"].defaultPage},function(){t.fetchDataList()})},t.pageChange=function(e){t.setState({currentPage:e},function(){t.fetchDataList()})},t.exportData=function(){},t.showMetadataManage=function(e,a){V.a.push({pathname:"/checkRecord/showDetail",params:{isRouterPush:!0,data:a}})},t.onTreeChange=function(e,a){t.setState({selectedKey:a.props.id})},t.renderSelectOption=function(e){var a=Y["a"].lodash.keys(e);return a.map(function(e){return B.a.createElement(H,{key:e,value:e},X["a"][e]["label"])})},t.renderSelect=function(e){return e.map(function(e,a){return B.a.createElement(H,{key:e.value,value:e.name},e.name)})},t}return T()(a,e),E()(a,[{key:"componentDidMount",value:function(){var e=this.props.dispatch,a=this;new Promise(function(a,t){e({type:"checkRecord/fetchSelectInfoAction",params:{type:"BASE_INFO"},resolve:a,reject:t})}).then(function(e){0===e.code?(e.data.unshift({name:"\u5168\u90e8",value:"\u5168\u90e8"}),a.setState({baseInfoSelect:e.data})):Y["a"].prompt.error(e.msg)}),new Promise(function(a,t){e({type:"checkRecord/fetchSelectInfoAction",params:{type:"BODY_CONDITION"},resolve:a,reject:t})}).then(function(e){0===e.code?(e.data.unshift({name:"\u5168\u90e8",value:"\u5168\u90e8"}),a.setState({bodyConditionSelect:e.data})):Y["a"].prompt.error(e.msg)}),this.fetchDataList()}},{key:"render",value:function(){var e=this,a=this.props,t=a.fetchTreeStatus,r=a.fetchCheckRecordListStatus,n=(a.savingStatus,a.testStatus,a.metadataManage,a.form),l=n.getFieldDecorator,c=(n.getFieldValue,this.state),h=c.treeData,p=c.members,g=(c.tableData,c.total),k=(c.selectedArea,c.currentPage),b=c.selectedKey,A=c.bodyConditionSelect,I=c.baseInfoSelect,y=[{title:"\u5e8f\u53f7",dataIndex:"index",key:"index"},{title:"\u53bf\u5e02\u533a",dataIndex:"area",key:"area"},{title:"\u59d3\u540d",dataIndex:"name",key:"name"},{title:"\u5e74\u9f84",dataIndex:"age",key:"age"},{title:"\u6027\u522b",dataIndex:"gender",key:"gender"},{title:"\u586b\u62a5\u65e5\u671f",dataIndex:"createTime",key:"createTime"},{title:"\u8eab\u4efd\u8bc1\u53f7",dataIndex:"idCard",key:"idCard"},{title:"\u88ab\u8c03\u67e5\u4eba\u57fa\u672c\u60c5\u51b5",dataIndex:"baseInfo",key:"baseInfo"},{title:"\u6478\u6392\u4eba",dataIndex:"fillUserName",key:"fillUserName"},{title:"\u64cd\u4f5c",key:"action",render:function(a,t){return B.a.createElement("span",null,B.a.createElement("a",{onClick:function(a){return e.showMetadataManage(a,t)}},"\u67e5\u770b\u8be6\u60c5"))}}],E={onChange:function(a,t){e.setState({selectRows:t})},getCheckboxProps:function(e){return{disabled:"Disabled User"===e.name,name:e.name}}};return B.a.createElement(J["a"],{title:"\u6478\u6392\u8bb0\u5f55\u67e5\u8be2"},B.a.createElement(i["a"],{gutter:24},Y["a"].auth.isAdmin()?B.a.createElement(m["a"],{xl:4,lg:4,md:4,sm:24,xs:24},B.a.createElement(u["a"],{title:"\u8d44\u6e90\u5217\u8868",bordered:!1,style:{width:"100%",height:"100%"}},t?B.a.createElement(f["a"],null):B.a.createElement(q,{multiple:!0,defaultExpandAll:!0,onSelect:this.onSelect.bind(this),selectedKeys:[b]},this.renderTreeNodes(h)))):null,B.a.createElement(m["a"],{xl:Y["a"].auth.isAdmin()?20:24,lg:Y["a"].auth.isAdmin()?20:24,md:Y["a"].auth.isAdmin()?20:24,sm:24,xs:24,className:W.a.dataSourceTableList},B.a.createElement(P["a"],{layout:"inline",onSubmit:this.searchDataSource},B.a.createElement(i["a"],{className:"".concat(W.a.dataSourceTitle," ").concat(W.a.tableListForms),style:{marginBottom:10}},B.a.createElement(m["a"],{xl:6,lg:6,md:6,sm:6,xs:24},B.a.createElement(P["a"].Item,{label:B.a.createElement(j["FormattedMessage"],{id:"checkRecord.resourceList.person.label"})},l("person",{})(B.a.createElement(L["a"],{autoComplete:"off",placeholder:Object(j["formatMessage"])({id:"checkRecord.resourceList.person.placeholder"})})))),B.a.createElement(m["a"],{xl:6,lg:6,md:6,sm:6,xs:24,style:{textAlign:"left"}},B.a.createElement(P["a"].Item,{label:B.a.createElement(j["FormattedMessage"],{id:"checkRecord.resourceList.sex.label"})},l("sex",{initialValue:"all"})(B.a.createElement(o["a"].Group,{onChange:this.onChange},B.a.createElement(o["a"],{value:"\u7537"},"\u7537"),B.a.createElement(o["a"],{value:"\u5973"},"\u5973"),B.a.createElement(o["a"],{value:"all"},"\u5168\u90e8"))))),B.a.createElement(m["a"],{xl:6,lg:6,md:6,sm:6,xs:24},B.a.createElement(P["a"].Item,{label:B.a.createElement(j["FormattedMessage"],{id:"checkRecord.resourceList.startDate.label"})},l("startDate",{})(B.a.createElement(F["a"],null)))),B.a.createElement(m["a"],{xl:6,lg:6,md:6,sm:6,xs:24},B.a.createElement(P["a"].Item,{label:B.a.createElement(j["FormattedMessage"],{id:"checkRecord.resourceList.endDate.label"})},l("endDate",{})(B.a.createElement(F["a"],null))))),B.a.createElement(i["a"],{className:"".concat(W.a.dataSourceTitle," ").concat(W.a.tableListForms),style:{marginBottom:10}},B.a.createElement(m["a"],{xl:6,lg:6,md:6,sm:6,xs:24},B.a.createElement(P["a"].Item,{label:B.a.createElement(j["FormattedMessage"],{id:"checkRecord.resourceList.base.label"})},l("base",{initialValue:"\u5168\u90e8"})(B.a.createElement(R["a"],{getPopupContainer:function(e){return e.parentNode}},this.renderSelect(I))))),B.a.createElement(m["a"],{xl:6,lg:6,md:6,sm:6,xs:24},B.a.createElement(P["a"].Item,{label:B.a.createElement(j["FormattedMessage"],{id:"checkRecord.resourceList.status.label"})},l("status",{initialValue:"\u5168\u90e8"})(B.a.createElement(R["a"],{getPopupContainer:function(e){return e.parentNode}},this.renderSelect(A))))),B.a.createElement(m["a"],{xl:6,lg:6,md:6,sm:6,xs:24},B.a.createElement(P["a"].Item,{label:B.a.createElement(j["FormattedMessage"],{id:"checkRecord.resourceList.head.label"})},l("head",{})(B.a.createElement(L["a"],{autoComplete:"off",placeholder:Object(j["formatMessage"])({id:"checkRecord.resourceList.head.placeholder"})})))),B.a.createElement(m["a"],{xl:6,lg:8,md:8,sm:8,xs:24,style:{textAlign:"left"}},B.a.createElement(P["a"].Item,{className:W.a.searchBtnWrapper},B.a.createElement(s["a"],{htmlType:"submit",style:{marginRight:10}},B.a.createElement(j["FormattedMessage"],{id:"checkRecord.btn.search"})),B.a.createElement(s["a"],{onClick:this.resetDataSource,type:"primary",style:{marginRight:10}},B.a.createElement(j["FormattedMessage"],{id:"checkRecord.btn.reset"})))))),B.a.createElement(i["a"],{className:"".concat(W.a.dataSourceTitle," ").concat(W.a.tableListForms),style:{marginBottom:10}},"\u68c0\u7d22\u7ed3\u679c\uff1a",g),B.a.createElement(i["a"],null,B.a.createElement(u["a"],{bordered:!1},B.a.createElement(d["a"],{columns:y,dataSource:p,rowSelection:E,loading:r,pagination:{current:k,onChange:this.pageChange,pageSize:z["a"].defaultPageSize,total:Number(g)+1}}))))))}}]),a}(w["PureComponent"]),l=c))||l)||l);a["default"]=Z}}]);