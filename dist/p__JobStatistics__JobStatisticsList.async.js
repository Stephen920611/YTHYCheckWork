(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[9],{"4H88":function(t,e,a){"use strict";a.r(e);a("tD99");var i,s,n,o,r=a("u0co"),l=(a("7lm+"),a("Oy9c")),c=(a("GOpK"),a("D012")),d=(a("flUi"),a("BFxG")),u=(a("xju3"),a("993v")),m=(a("/9S5"),a("W5sj")),p=(a("uQbE"),a("Q/TG")),h=a("zAuD"),f=a.n(h),b=a("mK77"),g=a.n(b),y=a("43Yg"),A=a.n(y),G=a("/tCh"),S=a.n(G),j=a("scpF"),k=a.n(j),I=a("O/V9"),T=a.n(I),E=a("Tfcp"),D=a.n(E),N=a("8aBX"),w=a.n(N),v=(a("QwEs"),a("FCkh")),x=(a("QnEw"),a("52uI")),C=(a("inXZ"),a("db/f")),L=(a("oVBX"),a("Mbjn")),R=(a("fl6I"),a("6Jb1")),F=(a("BUEc"),a("fzbF")),H=a("2w0b"),B=a.n(H),P=a("LneV"),K=(a("lvdA"),a("qj9E")),O=(a("C9k2"),a("lNND")),J=(a("rC0w"),a("EHzs")),M=a.n(J),V=a("zHco"),z=F["a"].TreeNode,Y=F["a"].DirectoryTree,Q=(R["a"].RangePicker,L["a"].Item,C["a"].TextArea,x["a"].Option,v["a"].Panel,i=Object(P["connect"])(function(t){var e=t.jobStatistics,a=t.loading;return{jobStatistics:e,fetchJobStatisticsListStatus:a.effects["jobStatistics/fetchJobStatisticsListAction"]}}),s=L["a"].create(),i(n=s((o=function(t){function e(){var t,a;A()(this,e);for(var i=arguments.length,s=new Array(i),n=0;n<i;n++)s[n]=arguments[n];return a=k()(this,(t=T()(e)).call.apply(t,[this].concat(s))),a.state={currentPage:O["a"].defaultPage,selectRows:[],selectedKey:"GA",selectedArea:"\u70df\u53f0\u5e02",tableData:[],treeData:[{children:[{id:"GA001",key:"GA001",name:"\u829d\u7f58\u533a",pId:"GA",title:"\u829d\u7f58\u533a"},{id:"GA002",key:"GA002",name:"\u798f\u5c71\u533a",pId:"GA",title:"\u798f\u5c71\u533a"},{id:"GA003",key:"GA003",name:"\u83b1\u5c71\u533a",pId:"GA",title:"\u83b1\u5c71\u533a"},{id:"GA004",key:"GA004",name:"\u725f\u5e73\u533a",pId:"GA",title:"\u725f\u5e73\u533a"},{id:"GA005",key:"GA005",name:"\u6d77\u9633\u5e02",pId:"GA",title:"\u6d77\u9633\u5e02"},{id:"GA006",key:"GA006",name:"\u83b1\u9633\u5e02",pId:"GA",title:"\u83b1\u9633\u5e02"},{id:"GA007",key:"GA007",name:"\u6816\u971e\u5e02",pId:"GA",title:"\u6816\u971e\u5e02"},{id:"GA008",key:"GA008",name:"\u84ec\u83b1\u5e02",pId:"GA",title:"\u84ec\u83b1\u5e02"},{id:"GA009",key:"GA009",name:"\u957f\u5c9b\u53bf",pId:"GA",title:"\u957f\u5c9b\u53bf"},{id:"GA010",key:"GA010",name:"\u9f99\u53e3\u5e02",pId:"GA",title:"\u9f99\u53e3\u5e02"},{id:"GA011",key:"GA011",name:"\u62db\u8fdc\u5e02",pId:"GA",title:"\u62db\u8fdc\u5e02"},{id:"GA012",key:"GA012",name:"\u83b1\u5dde\u5e02",pId:"GA",title:"\u83b1\u5dde\u5e02"},{id:"GA013",key:"GA013",name:"\u5f00\u53d1\u533a",pId:"GA",title:"\u5f00\u53d1\u533a"},{id:"GA014",key:"GA014",name:"\u9ad8\u65b0\u533a",pId:"GA",title:"\u9ad8\u65b0\u533a"},{id:"GA015",key:"GA015",name:"\u4fdd\u7a0e\u6e2f\u533a",pId:"GA",title:"\u4fdd\u7a0e\u6e2f\u533a"},{id:"GA016",key:"GA016",name:"\u6606\u5d5b\u5c71\u4fdd\u62a4\u533a",pId:"GA",title:"\u6606\u5d5b\u5c71\u4fdd\u62a4\u533a"}],id:"GA",key:"GA",name:"\u70df\u53f0\u5e02",pId:"0",title:"\u70df\u53f0\u5e02"}],dataSource:[{key:1,totalNum:10,returnNum:20,closeContactsNum:30,partyNum:40,keyEpidemicAreasNum:50,abnormalPhysicalConditionsNum:60,quarantinedOnThatDayNum:70,isolatedTotalNum:80,quarantinedAtHomeOnThatDayNum:90,atHomeTotalNum:100,isolatedTotalNumEdit:!1,isolatedTotalNumFirst:!0,atHomeTotalNumEdit:!1,atHomeTotalNumFirst:!0}]},a.fetchDataList=function(){var t=a.props,e=t.dispatch,i=t.form,s=a.state,n=(s.currentPage,s.selectedArea),o=D()(a);i.validateFieldsAndScroll(function(t,a){if(!t){var i=K["a"].auth.getLoginInfo(),s={date:K["a"].lodash.isUndefined(a.startDate)?"":null===a.startDate?"":K["a"].helper.dateFormat(a.startDate,"YYYY-MM-DD"),area:K["a"].auth.isAdmin()?"\u70df\u53f0\u5e02"===n?"":n:i.data.area};new Promise(function(t,a){e({type:"jobStatistics/fetchJobStatisticsListAction",params:s,resolve:t,reject:a})}).then(function(t){if(0===t.code){var e=t.data.map(function(t,e){return g()({},t,{key:e+1,index:e+1})});o.setState({tableData:e})}else K["a"].prompt.error(t.msg)})}})},a.resetDataSource=function(){a.props.form.setFieldsValue({startDate:null}),a.fetchDataList()},a.onSelect=function(t,e){var i=e.node.props,s=D()(a);a.setState({selectedKey:t[0],selectedArea:i.name},function(){s.fetchDataList()})},a.renderTreeNodes=function(t){return t.map(function(t){return t.children?B.a.createElement(z,f()({},t,{dataRef:t,title:t.name,key:t.id}),a.renderTreeNodes(t.children)):B.a.createElement(z,f()({},t,{dataRef:t,title:t.name,key:t.id,isLeaf:!0}))})},a.renderSelectTreeNodes=function(t){return t.map(function(t){return t.children?B.a.createElement(p["a"].TreeNode,f()({},t,{dataRef:t,title:t.name,value:t.name,key:t.id}),a.renderSelectTreeNodes(t.children)):B.a.createElement(p["a"].TreeNode,f()({},t,{dataRef:t,title:t.name,value:t.name,key:t.id,isLeaf:!0}))})},a.searchDataSource=function(t){var e=a.props;e.dispatch,e.form;t.preventDefault(),a.fetchDataList()},a.exportData=function(){var t=a.state.selectRows;if(t.length>0){var e=t.map(function(t){return t.id}),i=e.join(",");a.removeData(i)}else K["a"].prompt.error("\u8bf7\u9009\u62e9\u9700\u8981\u5220\u9664\u7684\u884c")},a.onTreeChange=function(t,e){a.setState({selectedKey:e.props.id})},a}return w()(e,t),S()(e,[{key:"componentDidMount",value:function(){var t=this.props;t.dispatch,t.location;this.fetchDataList()}},{key:"handleMapChange",value:function(t,e,a){var i=this.state.tableData,s=i.map(function(t){return g()({},t)}),n=this.getRowByKey(a,s);n&&(n[e]=t.target.value,this.setState({tableData:s}))}},{key:"getRowByKey",value:function(t,e){var a=this.state.dataSource;return(e||a).filter(function(e){return e.key===t})[0]}},{key:"handleKeyPress",value:function(t,e,a){var i=this.state.dataSource,s=i.map(function(t){return g()({},t)}),n=this.getRowByKey(a,s);n&&("isolatedTotalNum"===e?(n["isolatedTotalNumEdit"]=!1,n["isolatedTotalNumFirst"]=!1):(n["atHomeTotalNumEdit"]=!1,n["atHomeTotalNumFirst"]=!1),this.setState({dataSource:s}))}},{key:"showEdit",value:function(t,e,a){var i=this.state.dataSource,s=i.map(function(t){return g()({},t)}),n=this.getRowByKey(a,s);n&&("isolatedTotalNum"===e?n["isolatedTotalNumEdit"]=!0:n["atHomeTotalNumEdit"]=!0,this.setState({dataSource:s}))}},{key:"render",value:function(){var t=this,e=this.props,a=e.fetchTreeStatus,i=e.fetchJobStatisticsListStatus,s=e.form,n=s.getFieldDecorator,o=(s.getFieldValue,this.state),p=o.treeData,h=(o.currentPage,o.selectedKey),f=o.tableData,b=[{title:"\u5e8f\u53f7",dataIndex:"key",key:"key",width:"5%"},{title:"\u5730\u533a",dataIndex:"area",width:"8%"},{title:"\u6478\u6392\u603b\u4eba\u6570",dataIndex:"sum",width:"8%"},{title:"\u6765\u70df\uff08\u8fd4\u70df\uff09\u4eba\u6570",dataIndex:"backSum",width:"8%"},{title:"\u4e0e\u786e\u8bca\u3001\u7591\u4f3c\u75c5\u4f8b\u6709\u8fc7\u5bc6\u5207\u63a5\u89e6\u7684\u4eba\u6570",dataIndex:"touchSuspectSum",width:"12%"},{title:"\u4e0e\u5bc6\u5207\u63a5\u89e6\u8005\u6709\u8fc7\u5171\u540c\u751f\u6d3b\u3001\u5de5\u4f5c\u3001\u5b66\u4e60\u3001\u805a\u4f1a\u7684\u4eba\u6570",dataIndex:"touchIntimateSum",width:"12%"},{title:"\u4e0e\u91cd\u70b9\u75ab\u533a\u4eba\u5458\u6709\u8fc7\u63a5\u89e6\u7684\u4eba\u6570",dataIndex:"touchInfectorSum",width:"12%"},{title:"\u8eab\u4f53\u72b6\u51b5\u5f02\u5e38\u7684\u4eba\u6570",dataIndex:"bodyAbnormalSum",width:"8%"},{title:"\u5f53\u65e5\u96c6\u4e2d\u9694\u79bb\u4eba\u6570",dataIndex:"currentIsolateSum",width:"8%"},{title:"\u7d2f\u8ba1\u96c6\u4e2d\u9694\u79bb\u4eba\u6570\uff081\u670824\u65e5\u81f3\u4eca\uff09",dataIndex:"isolateSum",width:"12%",render:function(e,a){return B.a.createElement(C["a"],{value:e,autoFocus:!0,onChange:function(e){return t.handleMapChange(e,"isolateSum",a.key)},placeholder:"\u8bf7\u8f93\u5165\u4eba\u6570"})}},{title:"\u5f53\u65e5\u5c45\u5bb6\u9694\u79bb\u4eba\u6570",dataIndex:"currentIsolateHomeSum",width:"8%"},{title:"\u7d2f\u8ba1\u5c45\u5bb6\u9694\u79bb\u4eba\u6570\uff081\u670824\u65e5\u81f3\u4eca\uff09",dataIndex:"isolateHomeSum",width:"12%",render:function(e,a){return B.a.createElement(C["a"],{value:e,autoFocus:!0,onChange:function(e){return t.handleMapChange(e,"isolateHomeSum",a.key)},placeholder:"\u8bf7\u8f93\u5165\u4eba\u6570"})}}],g={onChange:function(e,a){t.setState({selectRows:a})},getCheckboxProps:function(t){return{disabled:"Disabled User"===t.name,name:t.name}}};return B.a.createElement(V["a"],{title:"\u6478\u6392\u5de5\u4f5c\u7edf\u8ba1"},B.a.createElement(l["a"],{gutter:24},K["a"].auth.isAdmin()?B.a.createElement(d["a"],{xl:4,lg:4,md:4,sm:24,xs:24},B.a.createElement(u["a"],{title:"\u8d44\u6e90\u5217\u8868",bordered:!1,style:{width:"100%",height:"100%"}},a?B.a.createElement(m["a"],null):B.a.createElement(Y,{multiple:!0,defaultExpandAll:!0,onSelect:this.onSelect.bind(this),selectedKeys:[h]},this.renderTreeNodes(p)))):null,B.a.createElement(d["a"],{xl:K["a"].auth.isAdmin()?20:24,lg:K["a"].auth.isAdmin()?20:24,md:K["a"].auth.isAdmin()?20:24,sm:24,xs:24,className:M.a.dataSourceTableList},B.a.createElement(L["a"],{layout:"inline",onSubmit:this.searchDataSource},B.a.createElement(l["a"],{className:"".concat(M.a.dataSourceTitle," ").concat(M.a.tableListForms),style:{marginBottom:10}},B.a.createElement(d["a"],{xl:6,lg:6,md:6,sm:6,xs:24},B.a.createElement(L["a"].Item,{label:"\u67e5\u8be2\u65f6\u95f4"},n("startDate",{initialValue:K["a"].moment((new Date).getTime()-864e5)})(B.a.createElement(R["a"],null)))),B.a.createElement(d["a"],{xl:6,lg:8,md:8,sm:8,xs:24,style:{textAlign:"left"}},B.a.createElement(L["a"].Item,{className:M.a.searchBtnWrapper},B.a.createElement(c["a"],{htmlType:"submit",style:{marginRight:10}},"\u67e5\u8be2"),B.a.createElement(c["a"],{onClick:this.resetDataSource,type:"primary",style:{marginRight:10}},"\u91cd\u7f6e"))))),B.a.createElement(l["a"],{className:"".concat(M.a.dataSourceTitle," ").concat(M.a.tableListForms),style:{marginBottom:10}},"\u7edf\u8ba1\u7ed3\u679c"),B.a.createElement(l["a"],null,B.a.createElement(u["a"],{bordered:!1},B.a.createElement(r["a"],{loading:i,columns:b,dataSource:f,rowSelection:g,pagination:!1,scroll:{y:480}}))))))}}]),e}(H["PureComponent"]),n=o))||n)||n);e["default"]=Q},EHzs:function(t,e,a){t.exports={title:"antd-pro-pages-job-statistics-job-statistics-list-title",exportBtn:"antd-pro-pages-job-statistics-job-statistics-list-exportBtn",distributeTitle:"antd-pro-pages-job-statistics-job-statistics-list-distributeTitle",distributeInput:"antd-pro-pages-job-statistics-job-statistics-list-distributeInput",distributeBtns:"antd-pro-pages-job-statistics-job-statistics-list-distributeBtns",cardPlatform:"antd-pro-pages-job-statistics-job-statistics-list-cardPlatform",card:"antd-pro-pages-job-statistics-job-statistics-list-card",platformContent:"antd-pro-pages-job-statistics-job-statistics-list-platformContent",platformLeft:"antd-pro-pages-job-statistics-job-statistics-list-platformLeft",platformRight:"antd-pro-pages-job-statistics-job-statistics-list-platformRight",platformRightText:"antd-pro-pages-job-statistics-job-statistics-list-platformRightText",upOrDown:"antd-pro-pages-job-statistics-job-statistics-list-upOrDown",trigger:"antd-pro-pages-job-statistics-job-statistics-list-trigger",activeColor:"antd-pro-pages-job-statistics-job-statistics-list-activeColor",distributeTable:"antd-pro-pages-job-statistics-job-statistics-list-distributeTable",syncTitleName:"antd-pro-pages-job-statistics-job-statistics-list-syncTitleName",contentLink:"antd-pro-pages-job-statistics-job-statistics-list-contentLink",extraImg:"antd-pro-pages-job-statistics-job-statistics-list-extraImg",pageHeaderContent:"antd-pro-pages-job-statistics-job-statistics-list-pageHeaderContent"}}}]);